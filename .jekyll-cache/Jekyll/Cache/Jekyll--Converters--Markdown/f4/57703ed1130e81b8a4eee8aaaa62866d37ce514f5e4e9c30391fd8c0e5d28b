I""<p>Mysql ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ ì„œë²„ì—ì„œ ë·°ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.</p>

<p>ë³¸ê¸€ì€ ì‹¤ì œë¡œ ì—°ë™ì— í•„ìš”í•œ ì •ë³´ë“¤ë§Œ ì…ë ¥í•˜ë¯€ë¡œ í…Œì´ë¸” <strong>ìƒì„±ì€ ë‹¤ë£¨ì§€ì•ŠìŠµë‹ˆë‹¤</strong>.
<!--more--></p>

<table>
  <tbody>
    <tr>
      <td>![MySql ë¡œê³ ]({{ â€œ/assets/img/bloging/react/mysqlLogo.pngâ€</td>
      <td>relative_url }})</td>
    </tr>
  </tbody>
</table>

<h2 id="mysql-installation">MySQL Installation</h2>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="gp">my_react&gt;</span><span class="w"> </span>npm <span class="nb">install</span> <span class="nt">--save</span> mysql
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ìœ„ì˜ ëª…ë ¹ì–´ë¡œ mysql ëª¨ë“ˆì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>

<h2 id="databasejson-ìƒì„±">database.json ìƒì„±</h2>

<p>Databaseì ‘ì†ì— í•„ìš”í•œ ì •ë³´ë“¤ì„ ê°€ì ¸ì˜¬ json í˜•ì‹ì˜ íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"host"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"userID"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"password"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"userPassword"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"port"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3306"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"database"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DatabaseName"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>ìœ„ì˜ ì •ë³´ë¥¼ ì…ë ¥í–ˆë‹¤ë©´ ê±°ì˜ ëë‚¬ìŠµë‹ˆë‹¤.</p>

<h2 id="serverjs-ì‘ì„±">server.js ì‘ì„±</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">require</span><span class="o">(</span><span class="err">'</span><span class="n">fs</span><span class="err">'</span><span class="o">);</span>
<span class="kd">const</span> <span class="n">express</span> <span class="o">=</span> <span class="n">require</span><span class="o">(</span><span class="err">'</span><span class="n">express</span><span class="err">'</span><span class="o">);</span>
<span class="kd">const</span> <span class="n">bodyParser</span> <span class="o">=</span> <span class="n">require</span><span class="o">(</span><span class="err">'</span><span class="n">body</span><span class="o">-</span><span class="n">parser</span><span class="err">'</span><span class="o">);</span>
<span class="kd">const</span> <span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="o">();</span>
<span class="kd">const</span> <span class="n">port</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="na">env</span><span class="o">.</span><span class="na">PORT</span> <span class="o">||</span> <span class="mi">5000</span><span class="o">;</span>

<span class="n">app</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="n">bodyParser</span><span class="o">.</span><span class="na">json</span><span class="o">());</span>
<span class="n">app</span><span class="o">.</span><span class="na">use</span><span class="o">(</span><span class="n">bodyParser</span><span class="o">.</span><span class="na">urlencoded</span><span class="o">({</span> <span class="nl">extended:</span> <span class="nc">True</span> <span class="o">}));</span>

<span class="kd">const</span> <span class="n">data</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="na">readFileSync</span><span class="o">(</span><span class="err">'</span><span class="o">./</span><span class="n">database</span><span class="o">.</span><span class="na">json</span><span class="err">'</span><span class="o">);</span>
<span class="kd">const</span> <span class="n">conf</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
<span class="kd">const</span> <span class="n">mysql</span> <span class="o">=</span> <span class="n">requir</span><span class="o">(</span><span class="err">'</span><span class="n">mysql</span><span class="err">'</span><span class="o">);</span>

<span class="kd">const</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">mysql</span><span class="o">.</span><span class="na">createConnection</span><span class="o">({</span>
  <span class="nl">host:</span> <span class="n">conf</span><span class="o">.</span><span class="na">host</span><span class="o">,</span>
  <span class="nl">user:</span> <span class="n">conf</span><span class="o">.</span><span class="na">user</span><span class="o">,</span>
  <span class="nl">password:</span> <span class="n">conf</span><span class="o">.</span><span class="na">password</span><span class="o">,</span>
  <span class="nl">port:</span> <span class="n">conf</span><span class="o">.</span><span class="na">port</span><span class="o">,</span>
  <span class="nl">database:</span> <span class="n">conf</span><span class="o">.</span><span class="na">database</span>
<span class="o">});</span>

<span class="n">connection</span><span class="o">.</span><span class="na">connect</span><span class="o">();</span>

<span class="n">app</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="sc">'/'</span><span class="o">,(</span><span class="n">req</span><span class="o">,</span><span class="n">res</span><span class="o">)</span> <span class="o">=&gt;{</span>
  <span class="n">connection</span><span class="o">.</span><span class="na">query</span><span class="o">(</span>
    <span class="s">"select 1 + 1 as two from dual"</span><span class="o">,</span>
    <span class="o">(</span><span class="n">err</span><span class="o">,</span><span class="n">rows</span><span class="o">,</span><span class="n">field</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="o">{</span>
      <span class="n">res</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">rows</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">)</span>
<span class="o">});</span>
<span class="n">app</span><span class="o">.</span><span class="na">listen</span><span class="o">(</span><span class="n">port</span><span class="o">,()</span> <span class="o">=&gt;</span> <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="err">`</span><span class="nc">Listening</span> <span class="n">on</span> <span class="n">port</span> <span class="o">&amp;{</span><span class="n">port</span><span class="o">}</span><span class="err">`</span><span class="o">));</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì‘ì„±ì´ ì™„ë£Œ ë¬ë‹¤ë©´ <code class="language-plaintext highlighter-rouge">yarn dev</code> ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<p>í™•ì¸ì„ ìœ„í•´ <code class="language-plaintext highlighter-rouge">localhost:5000/</code>ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.</p>

<p>ë§Œì•½ <code class="language-plaintext highlighter-rouge">Error: ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client</code> ì´ëŸ° ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´,
<strong><a href="/post/node_mysql_error">ì˜¤ë¥˜í•´ê²°</a></strong>ì—ì„œ í•´ê²° í•˜ì‹¤ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>í•´ê²°ì´ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í• ìˆ˜ìˆìŠµë‹ˆë‹¤.</p>

<table>
  <tbody>
    <tr>
      <td>![MySql ë¡œê³ ]({{ â€œ/assets/img/bloging/react/mysql_first_data.pngâ€</td>
      <td>relative_url }})</td>
    </tr>
  </tbody>
</table>
:ET